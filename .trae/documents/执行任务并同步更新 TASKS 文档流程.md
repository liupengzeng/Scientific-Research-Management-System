## 目标
- 在每次完成项目计划中的任务时，同步更新 `plan/TASKS.md`，确保文档与实现进度一致并可追踪。

## 更新原则
- 单任务粒度：每完成一个具体 `TASK-*` 就更新一次，不批量。
- 原地维护：仅修改 `plan/TASKS.md`，保持结构与章节不变。
- 可验证：更新需体现完成状态、关联代码位置、验收标准满足情况、日期记录。

## 更新范围
- 勾选任务复选框（`[ ]` → `[x]`）。
- 阶段小结状态与百分比（如：`Phase 2.5` 从“进行中”调整为“已完成(100%)”）。
- 总体进度表（各阶段百分比按子阶段完成度重新计算）。
- “进行中任务/已完成任务”列表同步。
- “更新记录”新增日期分节与关键变更说明。

## 更新步骤
1. 定位对应章节与任务条目（例如 `Phase 2.5: 登录与认证` → `TASK-2.5.5`）。
2. 将任务复选框改为 `[x]`，保留原验收标准描述。
3. 校准阶段状态：若该阶段所有子任务完成，则标记为“✅ 已完成(100%)”；否则标记为“🔄 进行中(X%)”。
4. 重新计算“总体进度”：按该阶段下子阶段完成比例估算（示例：第二阶段 6 个子阶段，完成 5 个 → ~83%，可向上取整为 85%）。
5. 将任务从“进行中任务”移动到“已完成任务”。
6. 在“更新记录”新增 `YYYY-MM-DD` 小节，写入：完成的任务编号、对应文件路径、关键效果与验收结论。

## 验收与回滚
- 验收：确认对应功能已在代码与运行环境中生效（本地验证或预览链接），且满足该 `TASK` 的验收标准。
- 回滚：如功能需要撤销，保留记录并在“注意事项”中注明原因与后续计划。

## 示例更新（拟执行）
- 目标：完成 `TASK-2.5.5`（前端路由守卫完善）。
- 文档改动要点：
  - 将 `plan/TASKS.md` 中 `TASK-2.5.5` 由 `[ ]` 改为 `[x]`。
  - 将 `Phase 2.5: 登录与认证` 状态更新为“✅ 已完成 (100%)”。
  - 在“总体进度”中将“第二阶段”由“80%”更新为“≈85%”（2.1~2.5 完成，2.6 待开始）。
  - 在“已完成任务”中增加“Phase 2.5 登录与认证完善（路由守卫、权限指令联动）”。
  - 在“更新记录”中新增今日日期条目，记录：路由前置守卫中新增 Token 过期检测；涉及文件 `research-frontend/src/utils/auth.js` 与 `research-frontend/src/router/index.js`；验收：过期 Token 导航自动跳转登录。

## 提交与记录规范
- 提交信息（仅在你要求提交时执行）：`docs(TASKS): 完成 TASK-2.5.5 路由守卫完善并更新计划`
- 代码引用：在“更新记录”中以相对路径列出关键文件。

## 下一步
- 得到确认后，按上述示例对 `plan/TASKS.md` 进行精确更新；随后继续推进下一未完成子阶段（如 `Phase 2.6 操作日志`），并同样按流程同步文档。